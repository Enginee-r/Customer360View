# Microsoft Fabric Lakehouse Connection Configuration
# Copy this file to .env.fabric and fill in your actual values

# ============================================================================
# FABRIC LAKEHOUSE SQL ENDPOINT
# ============================================================================
# Find this in Fabric: Your Lakehouse -> SQL analytics endpoint
# Format: <workspace-id>.datawarehouse.fabric.microsoft.com
# Or: <workspace-name>.datawarehouse.pbidedicated.windows.net
FABRIC_SQL_ENDPOINT=your-workspace.datawarehouse.fabric.microsoft.com

# Your Lakehouse name (as shown in Fabric portal)
FABRIC_LAKEHOUSE_NAME=customer360_lakehouse

# Port (usually 1433)
FABRIC_PORT=1433

# ODBC Driver - Use Driver 18 for best Fabric compatibility
# Options: {ODBC Driver 17 for SQL Server} or {ODBC Driver 18 for SQL Server}
FABRIC_DRIVER={ODBC Driver 18 for SQL Server}

# ============================================================================
# AUTHENTICATION
# ============================================================================
# Recommended: Use Azure AD (aad)
# Alternative: SQL authentication (if enabled in your workspace)
FABRIC_AUTH_METHOD=aad

# Azure Active Directory Authentication (Recommended)
# Create a Service Principal in Azure AD and grant access to Fabric workspace
AZURE_TENANT_ID=your-tenant-id
AZURE_CLIENT_ID=your-service-principal-client-id
AZURE_CLIENT_SECRET=your-service-principal-secret

# SQL Authentication (if using FABRIC_AUTH_METHOD=sql)
FABRIC_USERNAME=your_username
FABRIC_PASSWORD=your_password

# ============================================================================
# SCHEMA CONFIGURATION
# ============================================================================
# Schema where your tables are stored (default: dbo)
# In Fabric, tables are typically in 'dbo' schema
FABRIC_SCHEMA=dbo

# ============================================================================
# CONNECTION SETTINGS
# ============================================================================
FABRIC_ENCRYPT=yes
FABRIC_TRUST_CERT=no

# Connection Pool Settings
FABRIC_POOL_SIZE=5
FABRIC_POOL_TIMEOUT=30

# Cache TTL in seconds (default: 300 = 5 minutes)
CACHE_TTL_SECONDS=300

# ============================================================================
# DATA SOURCE MODE
# ============================================================================
# Options: 'local' (development) or 'fabric' (production)
DATA_SOURCE=fabric

# ============================================================================
# OPTIONAL: OneLake Direct Access
# ============================================================================
# For advanced scenarios with direct Delta Lake access
# Find these IDs in Fabric workspace settings
FABRIC_WORKSPACE_ID=your-workspace-guid
FABRIC_LAKEHOUSE_ID=your-lakehouse-guid
FABRIC_ONELAKE_ENDPOINT=onelake.dfs.fabric.microsoft.com

# ============================================================================
# EXAMPLE VALUES
# ============================================================================
# Replace the values above with your actual Fabric workspace details
#
# Example SQL Endpoint:
# FABRIC_SQL_ENDPOINT=workspace12345.datawarehouse.fabric.microsoft.com
#
# Example Service Principal (from Azure AD):
# AZURE_TENANT_ID=12345678-1234-1234-1234-123456789012
# AZURE_CLIENT_ID=abcdef12-3456-7890-abcd-ef1234567890
# AZURE_CLIENT_SECRET=your~secret~value~here
